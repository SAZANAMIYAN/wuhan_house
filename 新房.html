<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Title -->
    <title> 上传新房 </title>


    <!-- Bootstrap -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <!-- Fontawesome -->
    <link rel="stylesheet" href="assets/css/fontawesome-all.min.css">
    <!-- Magnific popup css -->
    <link rel="stylesheet" href="assets/css/magnific-popup.css.css">
    <!-- Slick -->
    <link rel="stylesheet" href="assets/css/slick.css">
    <!-- line awesome -->
    <link rel="stylesheet" href="assets/css/line-awesome.min.css">
    <!-- Image Uploader -->
    <link rel="stylesheet" href="assets/css/image-uploader.min.css">
    <!-- jQuery Ui Css -->
    <link rel="stylesheet" href="assets/css/jquery-ui.css">
    <!-- Main css -->
    <link rel="stylesheet" href="assets/css/main.css">
    <link href="css/head.css" rel="stylesheet" type="text/css" />

</head>
<body>
    

<!-- ==================== Scroll to Top End Here ==================== -->
<div class="progress-wrap">
    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98" />
    </svg>
  </div>
  <!-- ==================== Scroll to Top End Here ==================== -->
  
<style>
sidebar-list__link:hover a{
    color: #343125; 
}
</style>
    <!-- ==================== Header Start Here ==================== -->
<!-- 导航栏 -->
<nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark">
    <div class="container-fluid">
        <svg t="1717078667326" class="icon" id="icon1" viewBox="0 0 1134 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7392" fill="white" >
            <path d="M936.073503 710.338875l-55.003823-55.030362a123.781824 123.781824 0 0 0 
                23.447951-72.599739c0-68.578952-55.627509-124.193191-124.206462-124.193191-68.592222 0-124.219731 
                55.614239-124.219731 124.193191a124.206461 124.206461 0 0 0 196.81947 100.771781l54.990552 55.017093a9.992251 9.992251 0 0 0 
                14.105927 0l14.105926-14.105926a9.939171 9.939171 0 0 0-0.03981-14.052847zM780.27136 671.444737a88.749232 88.749232 0 0 
                1-88.735963-88.749232 88.749232 88.749232 0 0 1 177.471925 0 88.762502 88.762502 0 0 1-88.735962 88.749232z"
                p-id="7393"></path>
            <path
                d="M519.49087 592.196768c0-140.647894 108.455065-255.883888 246.276466-266.844843l-222.801975-179.449143c-24.774943-19.944691-65.288012-19.944691-90.076224 0l-146.805137 118.234997v-61.028367a28.384361 28.384361 0 0 0-28.291472-28.304742h-26.96448a28.397631 28.397631 0 0 0-28.304741 28.304742v128.346677l-69.826325 56.251195c-24.774943 19.944691-24.774943 52.575427 0 72.546659l19.745642 15.897365v332.504413c0 28.225122 28.66303 51.314785 63.669082 51.314785h523.631086c3.30421 0 6.502261-0.265398 9.660502-0.663497-139.54649-9.209325-249.912424-125.241515-249.912424-267.110241z m-170.717534-10.788446c0 11.876579-9.700312 21.550352-21.563622 21.550352h-41.349074a21.590162 21.590162 0 0 1-21.550352-21.550352V540.085788c0-11.863309 9.687042-21.550352 21.550352-21.550352h41.349074c11.863309 0 21.563622 9.687042 21.563622 21.550352v41.322534z"
                p-id="7394"></path>
            <path
                d="M789.069317 340.599064c-138.949344 0-251.597704 112.63509-251.597703 251.597704 0 138.949344 112.64836 251.597704 251.597703 251.597704s251.597704-112.64836 251.597704-251.597704-112.64836-251.597704-251.597704-251.597704z m-0.902354 457.37437c-113.630334 0-205.763396-92.133062-205.763397-205.776666s92.119792-205.763396 205.763397-205.763396 205.776666 92.119792 205.776666 205.763396c-0.01327 113.643604-92.133062 205.776666-205.776666 205.776666z"
                p-id="7395"></path>
        </svg>
        
      <a class="navbar-brand" href="#">选房管家</a>
      
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="首页.html">首页</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="在线选房.html">在线选房</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="房源评估.html">房源评估</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-bs-toggle="dropdown">
              房屋交易
            </a>
            <div class="dropdown-menu bg-dark">
              <a class="dropdown-item text-white" href="购买房屋.html">购买房屋</a>
              <a class="dropdown-item text-white" href="房贷计算器.html">房贷计算器</a>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="行情分析.html">行情分析</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="个人中心.html">个人中心</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
<!-- ==================== Header End Here ==================== -->

    
 
    
    <!-- ====================== Add Listing Start ========================= -->
<section class="listing padding-y-120">
    <div class="container container-two">
        <div class="row gy-4">
            <div class="col-lg-3">
                <div class="listing-sidebar" style="background-color: #212529;">
                    <ul id="list-scroll" class="sidebar-list d-flex flex-column gap-2">
                        <li class="sidebar-list__item">
                            <a href="新房.html" class="sidebar-list__link text-white" >上传新房</a>
                        </li>
                        <li class="sidebar-list__item">
                            <a href="二手房.html" class="sidebar-list__link text-white">上传二手房</a>
                        </li>
                        <li class="sidebar-list__item">
                            <a href="出租房.html" class="sidebar-list__link text-white">上传出租房</a>
                        </li>
                        <li class="sidebar-list__item">
                            <a href="个人中心.html" class="sidebar-list__link text-white">个人中心</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-lg-9 ps-lg-5">
                <div data-bs-spy="scroll" data-bs-target="#list-scroll" data-bs-offset="0" data-bs-smooth-scroll="true" class="scrollspy-example" tabindex="0">
                    <form id="uploadForm"  method="post" enctype="multipart/form-data">
                        <div class="card-item" id="basicInformation">
                            <div class="card common-card">
                                <div class="card-header">
                                    <h6 class="title mb-0">楼盘基本信息</h6>
                                </div>
                                <div class="card-body">
                                    <div class="row gy-4">
                                        <div class="col-sm-12">
                                            <label for="propertyTitle" class="form-label">楼盘名称</label>
                                            <input type="text" class="common-input" id="propertyTitle" placeholder="Name">
                                        </div>
                                        <div class="col-sm-6 col-xs-6">
                                            <label for="Price" class="form-label">楼盘价格</label>
                                            <input type="text" class="common-input" id="Price" placeholder="">
                                        </div>
                                        <div class="col-sm-6 col-xs-6">
                                            <label for="location" class="form-label">楼盘位置</label>
                                            <input type="text" class="common-input" id="location" placeholder="">
                                        </div>              
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-item" id="propertyGallery">
                            <div class="card common-card">
                                <div class="card-header">
                                    <h6 class="title mb-0">房屋照片</h6>
                                </div>
                                <div class="card-body">
                                    <div class="input-images"></div>
                                </div>
                            </div>
                        </div>
                        <div class="card-item" id="propertyInformation">
                            <div class="card common-card">
                                <div class="card-header">
                                    <h6 class="title mb-0">楼盘户型情况</h6>
                                </div>
                                <div class="card-body">
                                    <div class="row gy-1">
                                        <div class="col-xl-12 col-sm-12 col-xs-12">
                                            <label for="Propertytype" class="form-label">楼盘户型</label>
                                            <input type="text" class="common-input" id="Propertytype" placeholder="例如:4室3厅3卫">
                                        </div>                                 
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-item" id="propertyContactDetails">
                            <div class="card common-card">
                                <div class="card-header">
                                    <h6 class="title mb-0">联系方式</h6>
                                </div>
                                <div class="card-body">
                                    <div class="row gy-4">
                                        <div class="col-md-4 col-sm-6 col-xs-6">
                                            <label for="Name" class="form-label">姓名</label>
                                            <input type="text" id="Name" class="common-input" placeholder="Your Name">
                                        </div>
                                        <div class="col-md-4 col-sm-6 col-xs-6">
                                            <label for="Email" class="form-label">邮箱</label>
                                            <input type="email" id="Email" class="common-input" placeholder="Your E-Mail">
                                        </div>
                                        <div class="col-md-4 col-sm-6 col-xs-6">
                                            <label for="Phone" class="form-label">电话号码</label>
                                            <input type="tel" id="Phone" class="common-input" placeholder="Phone Number">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-main w-100">上传新房房源</button>
                    </form>

                </div>
            </div>
        </div>
    </div>
</section>
<!-- ====================== Add Listing End ========================= -->
    

  



  <script>

    document.getElementById('uploadForm').addEventListener('submit', function (event) {
    event.preventDefault(); // 阻止表单默认提交行为

    let propertyTitle = document.getElementById('propertyTitle').value;
    let Price = document.getElementById('Price').value;
    let location = document.getElementById('location').value;
    let Propertytype = document.getElementById('Propertytype').value;

    // 发送 AJAX 请求给后端
    let xhr = new XMLHttpRequest();
    xhr.open('POST', 'http://localhost:3000/uploadxinfang', true);
    xhr.setRequestHeader('Content-Type', 'application/json');

    xhr.onreadystatechange = function () {
    if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
        // 显示上传成功的消息
        alert('新房上传成功');
        // 回到页面顶部
        window.scrollTo(0, 0);
        // 延时刷新页面
        setTimeout(() => {
            window.location.reload();
        }, 500); // 延时500毫秒
    }
};


    xhr.send(JSON.stringify({ propertyTitle: propertyTitle, Price: Price, location: location, Propertytype: Propertytype }));
});


</script>
    <!-- Jquery js -->
    <script src="assets/js/jquery-3.7.1.min.js"></script>

    <!-- Bootstrap Bundle Js -->
    <script src="assets/js/boostrap.bundle.min.js"></script>
    <!-- Magnific Popup -->
    <script src="assets/js/magnific-popup.min.js"></script>
    <!-- Slick js -->
    <script src="assets/js/slick.min.js"></script>
    <!-- Counter Up Js -->
    <script src="assets/js/counterup.min.js"></script>
    <!-- Marquee text slider -->
    <script src="assets/js/jquery.marquee.min.js"></script>
    <!-- Image Uploader -->
    <script src="assets/js/image-uploader.min.js"></script>
    <!-- jQuery Ui Css -->
    <script src="assets/js/jquery-ui.min.js"></script>

    <!-- main js -->
    <script src="assets/js/main.js"></script>

    </body>
</html>