<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <title>在线选房</title>

  <link rel="stylesheet" href="bootstrap-5.3.2/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="css/head.css" />

  <!-- 百度地图密钥 + clustering快速加载 -->
  <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=N3SXmh8XftBOSor5z1fYSUGioDmShRWZ"></script>
  <script type="text/javascript"
    src="http://api.map.baidu.com/library/MarkerClusterer/1.2/src/MarkerClusterer_min.js"></script>
  <script type="text/javascript"
    src="http://api.map.baidu.com/library/TextIconOverlay/1.2/src/TextIconOverlay_min.js"></script>

  <!-- cesium三维 -->
  <script src="https://cesium.com/downloads/cesiumjs/releases/1.82/Build/Cesium/Cesium.js"></script>
  <link href="https://cesium.com/downloads/cesiumjs/releases/1.82/Build/Cesium/Widgets/widgets.css" rel="stylesheet">

</head>

<body class="d-flex flex-column h-100">
  <!-- 导航栏 -->
  <nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark">
    <div class="container-fluid">
      <svg t="1717078667326" class="icon" id="icon1" viewBox="0 0 1134 1024" version="1.1"
        xmlns="http://www.w3.org/2000/svg" p-id="7392" fill="white">
        <path
          d="M936.073503 710.338875l-55.003823-55.030362a123.781824 123.781824 0 0 0 
            23.447951-72.599739c0-68.578952-55.627509-124.193191-124.206462-124.193191-68.592222 0-124.219731 
            55.614239-124.219731 124.193191a124.206461 124.206461 0 0 0 196.81947 100.771781l54.990552 55.017093a9.992251 9.992251 0 0 0 
            14.105927 0l14.105926-14.105926a9.939171 9.939171 0 0 0-0.03981-14.052847zM780.27136 671.444737a88.749232 88.749232 0 0 
            1-88.735963-88.749232 88.749232 88.749232 0 0 1 177.471925 0 88.762502 88.762502 0 0 1-88.735962 88.749232z"
          p-id="7393"></path>
        <path
          d="M519.49087 592.196768c0-140.647894 108.455065-255.883888 246.276466-266.844843l-222.801975-179.449143c-24.774943-19.944691-65.288012-19.944691-90.076224 0l-146.805137 118.234997v-61.028367a28.384361 28.384361 0 0 0-28.291472-28.304742h-26.96448a28.397631 28.397631 0 0 0-28.304741 28.304742v128.346677l-69.826325 56.251195c-24.774943 19.944691-24.774943 52.575427 0 72.546659l19.745642 15.897365v332.504413c0 28.225122 28.66303 51.314785 63.669082 51.314785h523.631086c3.30421 0 6.502261-0.265398 9.660502-0.663497-139.54649-9.209325-249.912424-125.241515-249.912424-267.110241z m-170.717534-10.788446c0 11.876579-9.700312 21.550352-21.563622 21.550352h-41.349074a21.590162 21.590162 0 0 1-21.550352-21.550352V540.085788c0-11.863309 9.687042-21.550352 21.550352-21.550352h41.349074c11.863309 0 21.563622 9.687042 21.563622 21.550352v41.322534z"
          p-id="7394"></path>
        <path
          d="M789.069317 340.599064c-138.949344 0-251.597704 112.63509-251.597703 251.597704 0 138.949344 112.64836 251.597704 251.597703 251.597704s251.597704-112.64836 251.597704-251.597704-112.64836-251.597704-251.597704-251.597704z m-0.902354 457.37437c-113.630334 0-205.763396-92.133062-205.763397-205.776666s92.119792-205.763396 205.763397-205.763396 205.776666 92.119792 205.776666 205.763396c-0.01327 113.643604-92.133062 205.776666-205.776666 205.776666z"
          p-id="7395"></path>
      </svg>

      <a class="navbar-brand" href="#">
        <div style="
              position: absolute;
              left: 70px;
              top: 35px;
              transform: translateY(-50%);
            ">
          <strong>选房管家</strong>
        </div>
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="首页.html">首页</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="在线选房.html">在线选房</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="房源评估.html">房源评估</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-bs-toggle="dropdown">
              房屋交易
            </a>
            <div class="dropdown-menu bg-dark">
              <a class="dropdown-item text-white" href="购买房屋.html">购买房屋</a>
              <a class="dropdown-item text-white" href="房贷计算器.html">房贷计算器</a>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="行情分析.html">行情分析</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="个人中心.html">个人中心</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- 轮播图区域的代码 -->
  <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
      <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"
        aria-current="true" aria-label="Slide 1"></button>
      <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
        aria-label="Slide 2"></button>
      <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
        aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner" style="width: 100%; height: 700px">
      <style>
        .carousel-item img {
          height: 600px;
          object-fit: cover;
        }
      </style>

      <div class="carousel-item active">
        <img src="images/样板房.jpg" class="d-block w-100" alt="..." style="opacity: 0.6" />
      </div>
      <div class="carousel-item">
        <img src="images/郑州万科.jpg" class="d-block w-100" alt="..." style="opacity: 0.6" />
      </div>
      <div class="carousel-item">
        <img src="images/装修2.jpg" class="d-block w-100" alt="..." style="opacity: 0.6" />
      </div>

      <style>
        .text-large {
          top: 30vh;
          font-size: 4.5vw;
        }

        .text-small {
          top: 40vh;
          font-size: 1.5vw;
        }

        @media (max-width: 600px) {
          .text-large {
            top: 15vh;
            font-size: 20px;
          }

          .text-small {
            top: 20vh;
            font-size: 10px;
          }
        }
      </style>

      <div class="position-absolute d-flex justify-content-center align-items-center text-large" style="
            left: 50%;
            font-family: 'Microsoft YaHei';
            font-weight: bold;
            transform: translate(-50%, -50%);
          ">
        开始寻找属于你的家
      </div>
      <div class="position-absolute d-flex justify-content-center align-items-center text-small" style="
            left: 50%;
            font-family: 'Microsoft YaHei';
            font-weight: bold;
            transform: translate(-50%, -50%);
          ">
        找新房 找二手房 找租房 找小区 找商铺办公楼
      </div>

      <style>
        .search-box {
          top: 60%;
          max-width: 400px;
        }

        @media (max-width: 600px) {
          .search-box {
            top: 30%;
            max-width: 200px;
          }
        }
      </style>

      <div class="position-relative d-flex justify-content-center align-items-center search-box" style="
            left: 50%;
            transform: translate(-50%, -10%);
            border: 1px solid black;
            border-radius: 15px;
          ">
        <input type="text" class="w-100 p-2 mx-auto" style="
              font-size: 20px;
              border: 1px solid black;
              border-radius: 15px;
            " placeholder="输入查找信息" />
        <button class="position-absolute" style="
              right: 10px;
              top: 50%;
              transform: translateY(-50%);
              font-size: 20px;
              padding: 10px;
              border: none;
              background: none;
            ">
          <img src="images/search.png" alt="搜索" style="width: 20px; height: 20px" />
        </button>
      </div>
    </div>

    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
      data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
      data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>

  <div class="row gx-5 justify-content-center">
    <div class="col-lg-8 col-xl-6">
      <div class="text-center">
        <h2 class="fw-bolder" style="font-size: 40px">房源展示</h2>
        <p class="lead fw-normal text-muted mb-5" style="font-size: 20px">
          二维展示/三维立体/全景分析
        </p>
      </div>
    </div>
  </div>

  <!-- 圆角矩形的按钮 -->
  <div class="text-center">
    <div class="row">
      <div class="col">
        <div class="nav-item dropdown">
          <button class="btn btn-lg btn-primary rounded-pill my-2 mx-5 custom-btn dropdown-toggle" type="button"
            id="dropdownMenuButton" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <strong>二维地图</strong>
          </button>
          <!-- 下拉框样式 -->
          <style>
            .dropdown-menu1.bg-dark {
              width: 55%;
            }

            .dropdown-item1.text-white {
              font-size: 1.2rem;
              text-align: center;
              /* 设置下拉菜单项的字体大小，你可以根据需要调整这个值 */
            }
          </style>
          <div id="map-title" style="text-align: center; font-size: 20px;"></div>
          <div class="dropdown-menu dropdown-menu1 bg-dark">
            <a class="dropdown-item dropdown-item1 text-white" id="2d-map-btn1" href="#">二手房源</a>
            <a class="dropdown-item dropdown-item1 text-white" id="2d-map-btn2" href="#">新房源</a>
            <a class="dropdown-item dropdown-item1 text-white" id="2d-map-btn3" href="#">租房源</a>
          </div>
        </div>
      </div>
      <div class="col">
        <button class="btn btn-lg btn-primary rounded-pill my-2 mx-5 custom-btn" id="3d-show-btn">
          <strong>三维展示</strong>
        </button>
      </div>
      <div class="col">
        <button class="btn btn-lg btn-primary rounded-pill my-2 mx-5 custom-btn" id="panorama-analysis-btn">
          <strong>全景分析</strong>
        </button>
      </div>
    </div>
  </div>

  <!-- 按钮样式 -->
  <style>
    .custom-btn {
      background-color: #333;
      border-color: #333;
      color: white;
      width: 300px;
      /* 自定义宽度 */
      height: 60px;
      /* 自定义高度 */
    }

    .custom-btn:hover {
      background-color: #999;
      border-color: #999;
    }
  </style>

  <!-- 2D地图 -->
  <section class="py-5" id="quick-start">
    <!-- 地图容器 -->
    <div class="container-fluid">
      <button id="circleTool" style="padding: 10px 20px; background-color: #333333; color: white; border: none; border-radius: 5px; cursor: pointer; position: absolute; left: 20px; top: 10px; z-index: 1000;">画圈选房</button>
      <div id="map" class="rounded border" style="left: 5%; width: 90%; height: 900px">
      </div>
    </div>

    <script type="text/javascript">
      // 初始化地图
      var map = new BMap.Map("map");
      // 设置中心点和地图级别
      map.centerAndZoom(new BMap.Point(114.3155, 30.5928), 11);
      // 开启鼠标滚轮缩放
      map.enableScrollWheelZoom(true);

      document.getElementById("2d-map-btn1").addEventListener("click", function (event) {
        event.preventDefault(); // 阻止链接的默认行为，即阻止页面跳转
        // 清除地图上的所有覆盖物
        map.clearOverlays();

        document.getElementById("map-title").textContent = "二手房源";

        // 加载GeoJSON数据
        var geoJsonUrl =
          "https://geo.datav.aliyun.com/areas_v3/bound/420100_full.json";
        fetch(geoJsonUrl)
          .then((response) => response.json())
          .then((data) => {
            // 遍历GeoJSON数据的每个特性
            data.features.forEach((feature) => {
              // 遍历特性的每个几何体
              feature.geometry.coordinates.forEach((polygon) => {
                // 创建百度地图的多边形覆盖物
                var points = polygon[0].map(
                  (coord) => new BMap.Point(coord[0], coord[1])
                );
                var bmapPolygon = new BMap.Polygon(points, {
                  strokeColor: "darkblue",
                  strokeWeight: 1.5,
                  strokeOpacity: 0.8,
                  fillColor: "blue",
                  fillOpacity: 0.1,
                  strokeStyle: "dashed", // 设置边界线为虚线
                });
                // 将多边形覆盖物添加到地图中
                map.addOverlay(bmapPolygon);

                // 监听多边形的mouseover事件
                bmapPolygon.addEventListener("mouseover", function () {
                  this.setFillColor("yellow"); // 高亮颜色
                });

                // 监听多边形的mouseout事件
                bmapPolygon.addEventListener("mouseout", function () {
                  this.setFillColor("blue"); // 恢复原来的颜色
                });
              });
            });
          });

        // 加载二手房的JSON数据
        var houseJsonUrl = "geojson/二手房源数据.json";
        fetch("geojson/二手房源数据.json")
          .then((response) => response.json())
          .then((data) => {
            const markers = data.features.map((feature) => {
              const coordinates = feature.geometry.coordinates;
              const point = new BMap.Point(coordinates[0], coordinates[1]);
              const marker = new BMap.Marker(point);

              const infoWindow = new BMap.InfoWindow(`
        <div>
            <strong>小区名:</strong> ${feature.properties["小区名"]}<br>
            <strong>区域:</strong> ${feature.properties["区域"]}<br>
            <strong>户型:</strong> ${feature.properties["户型"]}<br>
            <strong>面积:</strong> ${feature.properties["面积"]}<br>
            <strong>朝向:</strong> ${feature.properties["朝向"]}<br>
            <strong>装修风:</strong> ${feature.properties["装修风"]}<br>
            <strong>楼层:</strong> ${feature.properties["楼层"]}<br>
            <strong>房屋类:</strong> ${feature.properties["房屋类"]}<br>
            <strong>价格:</strong> ${feature.properties["价格"]}<br>
            <a href="${feature.properties["链接"]}" target="_blank">详情链接</a>
        </div>
    `);
              marker.addEventListener("click", function () {
                this.openInfoWindow(infoWindow);
              });

              return marker;
            });

            // 创建MarkerClusterer实例
            var markerClusterer = new BMapLib.MarkerClusterer(map, {
              markers: markers,
            });
          })
          .catch((error) => {
            console.error("Error:", error);
          });
      });

      // 新房2D显示
      document.getElementById("2d-map-btn2").addEventListener("click", function () {
        event.preventDefault(); // 阻止链接的默认行为，即阻止页面跳转
        // 清除地图上的所有覆盖物
        map.clearOverlays();

        document.getElementById("map-title").textContent = "新房源";

        // 加载GeoJSON数据
        var geoJsonUrl = "https://geo.datav.aliyun.com/areas_v3/bound/420100_full.json";
        fetch(geoJsonUrl)
          .then((response) => response.json())
          .then((data) => {
            // 遍历GeoJSON数据的每个特性
            data.features.forEach((feature) => {
              // 遍历特性的每个几何体
              feature.geometry.coordinates.forEach((polygon) => {
                // 创建百度地图的多边形覆盖物
                var points = polygon[0].map(
                  (coord) => new BMap.Point(coord[0], coord[1])
                );
                var bmapPolygon = new BMap.Polygon(points, {
                  strokeColor: "darkblue",
                  strokeWeight: 1.5,
                  strokeOpacity: 0.8,
                  fillColor: "blue",
                  fillOpacity: 0.1,
                  strokeStyle: "dashed", // 设置边界线为虚线
                });
                // 将多边形覆盖物添加到地图中
                map.addOverlay(bmapPolygon);

                // 监听多边形的mouseover事件
                bmapPolygon.addEventListener("mouseover", function () {
                  this.setFillColor("yellow"); // 高亮颜色
                });

                // 监听多边形的mouseout事件
                bmapPolygon.addEventListener("mouseout", function () {
                  this.setFillColor("blue"); // 恢复原来的颜色
                });
              });
            });
          });

        // 加载新房的JSON数据
        var houseJsonUrl = "geojson/新房源数据.json";
        fetch("geojson/新房源数据.json")
          .then((response) => response.json())
          .then((data) => {
            const markers = data.features.map((feature) => {
              const coordinates = feature.geometry.coordinates;
              const point = new BMap.Point(coordinates[0], coordinates[1]);
              const marker = new BMap.Marker(point);

              const infoWindow = new BMap.InfoWindow(`
                    <div>
                        <strong>楼盘名称:</strong> ${feature.properties["楼盘名称"]}<br>
                        <strong>楼盘价格:</strong> ${feature.properties["楼盘价格"]}<br>
                        <strong>楼盘位置:</strong> ${feature.properties["楼盘位置"]}<br>
                        <strong>楼盘户型:</strong> ${feature.properties["楼盘户型"]}<br>
                        <a href="${feature.properties["link"]}" target="_blank">详情链接</a>
                    </div>
                    `);

              marker.addEventListener("click", function () {
                this.openInfoWindow(infoWindow);
              });

              return marker;
            });

            // 创建MarkerClusterer实例
            var markerClusterer = new BMapLib.MarkerClusterer(map, {
              markers: markers,
            });
          })
          .catch((error) => {
            console.error("Error:", error);
          });
      });

      // 租房源2D显示
      document.getElementById("2d-map-btn3").addEventListener("click", function () {
        event.preventDefault(); // 阻止链接的默认行为，即阻止页面跳转
        // 清除地图上的所有覆盖物
        map.clearOverlays();
        document.getElementById("map-title").textContent = "租房源";

        // 加载GeoJSON数据
        var geoJsonUrl = "https://geo.datav.aliyun.com/areas_v3/bound/420100_full.json";
        fetch(geoJsonUrl)
          .then((response) => response.json())
          .then((data) => {
            // 遍历GeoJSON数据的每个特性
            data.features.forEach((feature) => {
              // 遍历特性的每个几何体
              feature.geometry.coordinates.forEach((polygon) => {
                // 创建百度地图的多边形覆盖物
                var points = polygon[0].map(
                  (coord) => new BMap.Point(coord[0], coord[1])
                );
                var bmapPolygon = new BMap.Polygon(points, {
                  strokeColor: "darkblue",
                  strokeWeight: 1.5,
                  strokeOpacity: 0.8,
                  fillColor: "blue",
                  fillOpacity: 0.1,
                  strokeStyle: "dashed", // 设置边界线为虚线
                });
                // 将多边形覆盖物添加到地图中
                map.addOverlay(bmapPolygon);

                // 监听多边形的mouseover事件
                bmapPolygon.addEventListener("mouseover", function () {
                  this.setFillColor("yellow"); // 高亮颜色
                });

                // 监听多边形的mouseout事件
                bmapPolygon.addEventListener("mouseout", function () {
                  this.setFillColor("blue"); // 恢复原来的颜色
                });
              });
            });
          });

        // 加载新房的JSON数据
        var houseJsonUrl = "geojson/租房源数据.json";
        fetch("geojson/租房源数据.json")
          .then((response) => response.json())
          .then((data) => {
            const markers = data.features.map((feature) => {
              const coordinates = feature.geometry.coordinates;
              const point = new BMap.Point(coordinates[0], coordinates[1]);
              const marker = new BMap.Marker(point);

              const infoWindow = new BMap.InfoWindow(`
                    <div>
                        <strong>租房地址:</strong> ${feature.properties["租房地址"]}<br>
                        <strong>租赁方式:</strong> ${feature.properties["租赁方式"]}<br>
                        <strong>租房户型:</strong> ${feature.properties["租房户型"]}<br>
                        <strong>租房价格:</strong> ${feature.properties["房屋价格"]}<br>
                        <strong>费用明细:</strong> ${Object.entries(feature.properties["房屋费用"]).map(([key, value]) =>
                `${key}: ${value}`).join('<br>')}<br>
                        <strong>租房信息:</strong> ${feature.properties["房屋信息"]}<br>
                        <strong>租房设施:</strong> ${feature.properties["房屋设施"]}<br>
                    </div>
                    `);

              marker.addEventListener("click", function () {
                this.openInfoWindow(infoWindow);
              });

              return marker;
            });

            // 创建MarkerClusterer实例
            var markerClusterer = new BMapLib.MarkerClusterer(map, {
              markers: markers,
            });
          })
          .catch((error) => {
            console.error("Error:", error);
          });
      });

      document.getElementById("3d-show-btn").addEventListener("click", function (event) {
        event.preventDefault(); // 阻止链接的默认行为，即阻止页面跳转
        // 清除地图上的所有覆盖物
        map.clearOverlays();

        // 初始化Cesium的地图
        var viewer = new Cesium.Viewer("map", {
          imageryProvider: new Cesium.ArcGisMapServerImageryProvider({
            url: "https://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",
          }),
          baseLayerPicker: false,
        });

        // 加载武汉市的建筑数据
        var tileset = viewer.scene.primitives.add(
          new Cesium.Cesium3DTileset({
            url: "https://your-server.com/path-to-your-data/WuhanBuildings.json",
          })
        );

        // 将视角移动到武汉市
        viewer.zoomTo(tileset);

        // 显示cesiumContainer
        document.getElementById("cesiumContainer").style.display = "block";
      });

      // *******************************全景分析***********************************
      document.getElementById("panorama-analysis-btn").addEventListener("click", function (event) {
        event.preventDefault(); // 阻止链接的默认行为，即阻止页面跳转
        // 清除地图上的所有覆盖物
        map.clearOverlays();

        // 加载GeoJSON数据
        var geoJsonUrl =
          "https://geo.datav.aliyun.com/areas_v3/bound/420100_full.json";
        fetch(geoJsonUrl)
          .then((response) => response.json())
          .then((data) => {
            // 遍历GeoJSON数据的每个特性
            data.features.forEach((feature) => {
              // 遍历特性的每个几何体
              feature.geometry.coordinates.forEach((polygon) => {
                // 创建百度地图的多边形覆盖物
                var points = polygon[0].map(
                  (coord) => new BMap.Point(coord[0], coord[1])
                );
                var bmapPolygon = new BMap.Polygon(points, {
                  strokeColor: "darkblue",
                  strokeWeight: 1.5,
                  strokeOpacity: 0.8,
                  fillColor: "blue",
                  fillOpacity: 0.1,
                  strokeStyle: "dashed", // 设置边界线为虚线
                });
                // 将多边形覆盖物添加到地图中
                map.addOverlay(bmapPolygon);

                // 监听多边形的mouseover事件
                bmapPolygon.addEventListener("mouseover", function () {
                  this.setFillColor("yellow"); // 高亮颜色
                });

                // 监听多边形的mouseout事件
                bmapPolygon.addEventListener("mouseout", function () {
                  this.setFillColor("blue"); // 恢复原来的颜色
                });
              });
            });
          });

        // 加载二手房的JSON数据
        var houseJsonUrl = "geojson/二手全景房源数据.json";
        fetch("geojson/二手全景房源数据.json")
          .then((response) => response.json())
          .then((data) => {
            const markers = data.features.map((feature) => {
              const coordinates = feature.geometry.coordinates;
              const point = new BMap.Point(coordinates[0], coordinates[1]);
              const marker = new BMap.Marker(point);

              const infoWindow = new BMap.InfoWindow(`
        <div>
            <strong>租房地址:</strong> ${feature.properties["租房地址"]}<br>
            <strong>租房户型:</strong> ${feature.properties["租房户型"]}<br>
            <strong>租价:</strong> ${feature.properties["房屋价格"]}<br>
            <a href="http://beyond.3dnest.cn/survey/?m=zhq_hxdcspgq_440&from=singlemessage&isappinstalled=1" target="_blank">VR看房</a>
        </div>
    `);
              marker.addEventListener("click", function () {
                this.openInfoWindow(infoWindow);
                console.log(feature.properties["link"])
              });

              return marker;
            });

            // 创建MarkerClusterer实例
            var markerClusterer = new BMapLib.MarkerClusterer(map, {
              markers: markers,
            });
          })
          .catch((error) => {
            console.error("Error:", error);
          });
      });







    </script>


    </div>

  </section>



  <!-- <script type="text/javascript" src="bootstrap-5.3.2/dist/js/bootstrap.min.js"></script> -->
  <script src="bootstrap-5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

<!-- Footer-->
<footer class="bg-dark py-4 mt-auto">
  <div class="container px-5">
    <div class="small text-center text-white">
      Copyright &copy; Xuanfang Guanjia 2024
    </div>
  </div>
</footer>

</html>