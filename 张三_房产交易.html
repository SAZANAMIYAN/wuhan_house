<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Title -->
    <title> 购买房屋_张三</title>


    <!-- Bootstrap -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <!-- Fontawesome -->
    <link rel="stylesheet" href="assets/css/fontawesome-all.min.css">
    <!-- Magnific popup css -->
    <link rel="stylesheet" href="assets/css/magnific-popup.css.css">
    <!-- Slick -->
    <link rel="stylesheet" href="assets/css/slick.css">
    <!-- line awesome -->
    <link rel="stylesheet" href="assets/css/line-awesome.min.css">
    <!-- Image Uploader -->
    <link rel="stylesheet" href="assets/css/image-uploader.min.css">
    <!-- jQuery Ui Css -->
    <link rel="stylesheet" href="assets/css/jquery-ui.css">
    <!-- Main css -->
    <link rel="stylesheet" href="assets/css/main.css">
    <link href="css/head.css" rel="stylesheet" type="text/css" />
</head>

<body  class="d-flex flex-column h-100">
    <!-- ==================== Header Start Here ==================== -->
    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark">
        <div class="container-fluid">
            <svg t="1717078667326" class="icon" id="icon1" viewBox="0 0 1134 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7392" fill="white" >
                <path d="M936.073503 710.338875l-55.003823-55.030362a123.781824 123.781824 0 0 0 
                    23.447951-72.599739c0-68.578952-55.627509-124.193191-124.206462-124.193191-68.592222 0-124.219731 
                    55.614239-124.219731 124.193191a124.206461 124.206461 0 0 0 196.81947 100.771781l54.990552 55.017093a9.992251 9.992251 0 0 0 
                    14.105927 0l14.105926-14.105926a9.939171 9.939171 0 0 0-0.03981-14.052847zM780.27136 671.444737a88.749232 88.749232 0 0 
                    1-88.735963-88.749232 88.749232 88.749232 0 0 1 177.471925 0 88.762502 88.762502 0 0 1-88.735962 88.749232z"
                    p-id="7393"></path>
                <path
                    d="M519.49087 592.196768c0-140.647894 108.455065-255.883888 246.276466-266.844843l-222.801975-179.449143c-24.774943-19.944691-65.288012-19.944691-90.076224 0l-146.805137 118.234997v-61.028367a28.384361 28.384361 0 0 0-28.291472-28.304742h-26.96448a28.397631 28.397631 0 0 0-28.304741 28.304742v128.346677l-69.826325 56.251195c-24.774943 19.944691-24.774943 52.575427 0 72.546659l19.745642 15.897365v332.504413c0 28.225122 28.66303 51.314785 63.669082 51.314785h523.631086c3.30421 0 6.502261-0.265398 9.660502-0.663497-139.54649-9.209325-249.912424-125.241515-249.912424-267.110241z m-170.717534-10.788446c0 11.876579-9.700312 21.550352-21.563622 21.550352h-41.349074a21.590162 21.590162 0 0 1-21.550352-21.550352V540.085788c0-11.863309 9.687042-21.550352 21.550352-21.550352h41.349074c11.863309 0 21.563622 9.687042 21.563622 21.550352v41.322534z"
                    p-id="7394"></path>
                <path
                    d="M789.069317 340.599064c-138.949344 0-251.597704 112.63509-251.597703 251.597704 0 138.949344 112.64836 251.597704 251.597703 251.597704s251.597704-112.64836 251.597704-251.597704-112.64836-251.597704-251.597704-251.597704z m-0.902354 457.37437c-113.630334 0-205.763396-92.133062-205.763397-205.776666s92.119792-205.763396 205.763397-205.763396 205.776666 92.119792 205.776666 205.763396c-0.01327 113.643604-92.133062 205.776666-205.776666 205.776666z"
                    p-id="7395"></path>
            </svg>
            
        <a class="navbar-brand" href="#">选房管家</a>
        
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
            <li class="nav-item">
                <a class="nav-link" aria-current="page" href="首页.html">首页</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="在线选房.html">在线选房</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="房源评估.html">房源评估</a>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link active dropdown-toggle" href="#" id="navbardrop" data-bs-toggle="dropdown">
                房屋交易
                </a>
                <div class="dropdown-menu bg-dark">
                <a class="dropdown-item text-white" href="购买房屋.html">购买房屋</a>
                <a class="dropdown-item text-white" href="房贷计算器.html">房贷计算器</a>
                </div>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="行情分析.html">行情分析</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="个人中心.html">个人中心</a>
            </li>
            </ul>
        </div>
        </div>
    </nav>
    <!-- ==================== Header End Here ==================== -->

        
    
        
        <!-- ===================== Checkout Section Start ============================ -->
    <section class="checkout padding-y-120">
        <div class="container container-two">
            <form id="uploadForm"  method="post" enctype="multipart/form-data">
                <div class="row gy-4">
                    <div class="col-lg-8 pe-lg-5">
                        <div class="card common-card">
                            <div class="card-body">
                                <h6 class="title mb-4">买家信息</h6>
                                <div class="row gy-4">
                                    <div class="col-sm-6 col-xs-6">
                                        <label for="Name" class="form-label">姓名</label>
                                        <input type="text" class="common-input" id="Name" placeholder="Name" disabled value="张三">
                                    </div>                                    
                                    <div class="col-sm-6 col-xs-6">
                                        <label for="" class="form-label">性别</label>
                                        <input type="text" class="common-input" id="Gender" placeholder="Gender" disabled value="男">
                                    </div>
                                    <div class="col-sm-6 col-xs-6">
                                        <label for="EmailAddress" class="form-label">邮箱</label>
                                        <input type="email" class="common-input" id="EmailAddress" placeholder="Email Address" disabled value="111@gmail.com">
                                    </div>
                                    <div class="col-sm-6 col-xs-6">
                                        <label for="PhoneNumber" class="form-label">电话</label>
                                        <input type="tel" class="common-input" id="PhoneNumber" placeholder="Phone Number" disabled value="11111">
                                    </div>
                                    <div class="col-sm-6 col-xs-6">
                                        <label for="Address" class="form-label">地址</label>
                                        <input type="text" class="common-input" id="Address" placeholder="Address" disabled value="体育路招商·武汉城建未来中心">
                                    </div>
                                    <div class="col-sm-6 col-xs-6">
                                        <label for="idcard" class="form-label">身份证号</label>
                                        <input type="text" class="common-input" id="idcard" placeholder="ID number" disabled value="11111">
                                    </div>
                                    <div class="col-sm-6 col-xs-6">
                                        <label for="target" class="form-label">购房目的</label>
                                        <input type="text" class="common-input" id="target" placeholder="Purpose of purchase" disabled value="自住需求">
                                    </div>
                                    <div class="col-sm-6 col-xs-6">
                                        <label for="ZipCode" class="form-label">邮政编码</label>
                                        <input type="text" class="common-input" id="ZipCode" placeholder="ZipCode" disabled value="11111">
                                    </div>
                                    <div class="col-sm-12 col-xs-12">
                                        <label for="Note" class="form-label">备注</label>
                                        <input type="text" class="common-input" id="Note" placeholder="Note" disabled value="希望可以尽快线下商量详细事宜">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="card common-card mb-4">
                            <div class="card-body">
                                <h6 class="title mb-4">付款方式</h6>
                                <div class="d-flex flex-column gap-3">
                                    <div class="payment-method">
                                        <div class="common-radio">
                                            <input class="form-check-input" type="radio" name="payment" id="once" checked>
                                            <label class="form-check-label" for="once">
                                                一次性付清                                         
                                            </label>
                                        </div>
                                    </div>
                                    <div class="payment-method">
                                        <div class="common-radio">
                                            <input class="form-check-input" type="radio" name="payment" id="long">
                                            <label class="form-check-label" for="long">
                                                按揭
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card common-card">
                            <div class="card-body">
                                <h6 class="title mb-4">总计</h6>
                                <ul class="billing-list">
                                    <li class="billing-list__item flx-between">
                                        <span class="text text-poppins font-15" >小区名称</span>
                                        <span class="text  text-heading text-poppins" id="house_name">能建青誉府</span>
                                    </li>
                                    <li class="billing-list__item flx-between">
                                        <span class="text text-poppins font-15">销售状态</span>
                                        <span class="text  text-heading text-poppins" id="sell_status"> 已售 </span>
                                    </li>
                                    <li class="billing-list__item flx-between">
                                        <span class="text text-poppins font-15">户型</span>
                                        <span class="text  text-heading text-poppins" id="room_type"> 三室两厅一厨一卫</span>
                                    </li>
                                    <li class="billing-list__item flx-between">
                                        <span class="text text-poppins font-15">面积（平方米）</span>
                                        <span class="text  text-heading text-poppins" id="area"> 160</span>
                                    </li>
                                    <li class="billing-list__item flx-between">
                                        <span class="text text-poppins font-15">楼盘位置</span>
                                        <span class="text  text-heading text-poppins" id="house_address">体育路招商·武汉城建未来中心</span>
                                    </li>
                                    <li class="billing-list__item flx-between">
                                        <span class="text text-poppins fw-semibold text-heading">总金额</span>
                                        <span class="text fw-semibold text-heading text-poppins" id="price">¥2050000</span>
                                    </li>
                                </ul>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </section>
    <!-- ===================== Checkout Section End ============================ -->
 
    
    <script>
        function getSelectedPaymentMethod() {
            // 获取所有具有 name="payment" 的单选按钮
            const paymentMethods = document.querySelectorAll('input[name="payment"]');
            let selectedPayment = null;

            // 遍历单选按钮，找到选中的那一个
            paymentMethods.forEach(method => {
                if (method.checked) {
                    selectedPayment = method.nextElementSibling.textContent.trim();
                }
            });

            // 将选中的付款方式存储在 target 变量中
            return selectedPayment;
        }

        document.getElementById('uploadForm').addEventListener('submit', function (event) {
            event.preventDefault(); // 阻止表单默认提交行为

            let Name = document.getElementById('Name').value;
            let Gender = document.getElementById('Gender').value;
            let EmailAddress = document.getElementById('EmailAddress').value;
            let PhoneNumber = document.getElementById('PhoneNumber').value;
            let Address = document.getElementById('Address').value;
            let idcard = document.getElementById('idcard').value;
            let target = document.getElementById('target').value;
            let ZipCode = document.getElementById('ZipCode').value;
            let Note = document.getElementById('Note').value;
            let payment = getSelectedPaymentMethod(); // 获取选中的付款方式

            let house_name = document.getElementById('house_name').textContent; // 使用 textContent 获取文本内容
            let price = document.getElementById('price').textContent; // 使用 textContent 获取文本内容

            // 发送 AJAX 请求给后端
            let xhr = new XMLHttpRequest();
            xhr.open('POST', 'http://localhost:3000/uploadorder', true);
            xhr.setRequestHeader('Content-Type', 'application/json');

            xhr.onreadystatechange = function () {
                if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
                    // 显示上传成功的消息
                    alert('订单提交成功');
                    // 回到页面顶部
                    window.scrollTo(0, 0);
                    // 延时刷新页面
                    setTimeout(() => {
                        window.location.reload();
                    }, 500); // 延时500毫秒
                }
            };

            xhr.send(JSON.stringify({ Name, Gender, EmailAddress, PhoneNumber, Address, idcard, target, ZipCode, Note, payment, house_name, price }));
        });
    </script>


  


    <!-- Jquery js -->
    <script src="assets/js/jquery-3.7.1.min.js"></script>

    <!-- Bootstrap Bundle Js -->
    <script src="assets/js/boostrap.bundle.min.js"></script>
    <!-- Magnific Popup -->
    <script src="assets/js/magnific-popup.min.js"></script>
    <!-- Slick js -->
    <script src="assets/js/slick.min.js"></script>
    <!-- Counter Up Js -->
    <script src="assets/js/counterup.min.js"></script>
    <!-- Marquee text slider -->
    <script src="assets/js/jquery.marquee.min.js"></script>
    <!-- Image Uploader -->
    <script src="assets/js/image-uploader.min.js"></script>
    <!-- jQuery Ui Css -->
    <script src="assets/js/jquery-ui.min.js"></script>

    <!-- main js -->
    <script src="assets/js/main.js"></script>

    </body>
</html>